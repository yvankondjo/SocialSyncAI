
 [Navigateur]
      |
      | 1. Requête GET /connect/instagram
      V
 [backend/app/routers/social_accounts.py]
      |
      | 2. Appelle get_instagram_auth_url() depuis le service
      V
 [backend/app/services/social_auth_service.py]
      |
      | 3. Construit l'URL d'autorisation et la retourne
      V
 [Navigateur]
      |
      | 4. Redirige l'utilisateur vers l'URL d'Instagram.
      |    L'utilisateur autorise l'application.
      |
      | 5. Instagram redirige vers notre /callback avec un `code`.
      V
 [backend/app/routers/social_accounts.py]  <-- Reçoit la requête avec le `code`
      |
      | 6. Appelle handle_instagram_callback(code)
      V
 [backend/app/services/social_auth_service.py]
      |
      | 7. Échange le code contre un token (Appels API à Instagram)
      |    et retourne le token au routeur.
      |
      | 8. Le routeur appelle get_instagram_user_profile(token)
      |
      | 9. Le service récupère le profil (Appel API à Instagram)
      |    et le retourne au routeur.
      V
 [backend/app/routers/social_accounts.py]
      |
      | 10. Prépare les données et les sauvegarde
      |     dans la base de données via le client Supabase.
      V
 [Base de données Supabase] (Table `social_accounts` est mise à jour)


